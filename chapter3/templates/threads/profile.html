{% extends 'base.html' %}
{% load static %}

{% block title %}사용자명 - Threads{% endblock %}

{% block content %}
  <div class="row">
    <!-- 왼쪽 사이드바 -->
    <div class="col-lg-3 d-none d-lg-block sidebar">
      {% include 'threads/partials/sidebar.html' %}
    </div>

    <!-- 메인 콘텐츠 -->
    <div class="col-lg-9 col-md-12">
      <!-- 프로필 헤더 -->
      <div class="card mb-4">
        <div class="card-body">
          <div class="row">
            <div class="col-md-3 text-center mb-3 mb-md-0">
              <img src="{% static 'images/default-avatar.png' %}" alt="User Avatar" class="profile-avatar">
            </div>
            <div class="col-md-9">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h3 class="mb-0">사용자명</h3>
                <div>
                  <!-- 자신의 프로필인 경우 -->
                  <!-- <a href="#" class="btn btn-outline-primary">프로필 편집</a> -->

                  <!-- 다른 사용자의 프로필인 경우 -->
                  <button class="btn btn-primary">팔로우</button>
                  <button class="btn btn-outline-primary ms-2">메시지</button>
                </div>
              </div>

              <p class="profile-bio">
                안녕하세요! Threads 애플리케이션을 사용 중인 사용자입니다. Django와 Python에 관심이 많습니다.
              </p>

              <div class="profile-stats">
                <div class="profile-stat me-4">
                  <div class="profile-stat-value">42</div>
                  <div class="profile-stat-label">스레드</div>
                </div>
                <div class="profile-stat me-4">
                  <div class="profile-stat-value">128</div>
                  <div class="profile-stat-label">팔로워</div>
                </div>
                <div class="profile-stat">
                  <div class="profile-stat-value">96</div>
                  <div class="profile-stat-label">팔로잉</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 탭 메뉴 -->
      <ul class="nav nav-tabs mb-4">
        <li class="nav-item">
          <a class="nav-link active" href="#">스레드</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">좋아요</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">미디어</a>
        </li>
      </ul>

      <!-- 사용자 스레드 목록 -->
      <div class="user-threads">
        <!-- 샘플 스레드 1 -->
        <div class="card thread-card mb-3">
          <div class="card-body">
            <div class="d-flex mb-3">
              <img src="{% static 'images/default-avatar.png' %}" alt="User Avatar" class="rounded-circle me-2" width="40" height="40">
              <div>
                <h5 class="card-title mb-0">사용자명</h5>
                <small class="text-muted">어제</small>
              </div>
            </div>

            <p class="card-text thread-content">Django 템플릿 시스템이 정말 마음에 들어요. 특히 템플릿 상속 기능은 코드를 효율적으로 관리하는 데 큰 도움이 됩니다. #Django #웹개발</p>

            <div class="d-flex justify-content-between align-items-center mt-3">
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-outline-secondary like-button" data-thread-id="3">
                  <i class="far fa-heart"></i>
                  <span class="like-count">12</span>
                </button>
                <button type="button" class="btn btn-sm btn-outline-secondary comment-button" data-thread-id="3">
                  <i class="far fa-comment"></i>
                  <span>3</span>
                </button>
                <button type="button" class="btn btn-sm btn-outline-secondary share-button" data-thread-id="3">
                  <i class="far fa-share-square"></i>
                </button>
              </div>

              <div class="dropdown">
                <button class="btn btn-sm btn-outline-secondary" type="button" data-bs-toggle="dropdown">
                  <i class="fas fa-ellipsis-h"></i>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li>
                    <a class="dropdown-item" href="#">수정</a>
                  </li>
                  <li>
                    <a class="dropdown-item text-danger" href="#" onclick="confirmDeleteThread(3); return false;">삭제</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- 샘플 스레드 2 -->
        <div class="card thread-card mb-3">
          <div class="card-body">
            <div class="d-flex mb-3">
              <img src="{% static 'images/default-avatar.png' %}" alt="User Avatar" class="rounded-circle me-2" width="40" height="40">
              <div>
                <h5 class="card-title mb-0">사용자명</h5>
                <small class="text-muted">3일 전</small>
              </div>
            </div>

            <p class="card-text thread-content">오늘 Django Forms에 대해 공부했습니다. ModelForm은 정말 강력한 기능인 것 같아요! #Django #Forms</p>
            <img src="https://via.placeholder.com/500x300" alt="Thread Image" class="img-fluid rounded mb-3">

            <div class="d-flex justify-content-between align-items-center mt-3">
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-outline-secondary like-button" data-thread-id="4">
                  <i class="far fa-heart"></i>
                  <span class="like-count">8</span>
                </button>
                <button type="button" class="btn btn-sm btn-outline-secondary comment-button" data-thread-id="4">
                  <i class="far fa-comment"></i>
                  <span>1</span>
                </button>
                <button type="button" class="btn btn-sm btn-outline-secondary share-button" data-thread-id="4">
                  <i class="far fa-share-square"></i>
                </button>
              </div>

              <div class="dropdown">
                <button class="btn btn-sm btn-outline-secondary" type="button" data-bs-toggle="dropdown">
                  <i class="fas fa-ellipsis-h"></i>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li>
                    <a class="dropdown-item" href="#">수정</a>
                  </li>
                  <li>
                    <a class="dropdown-item text-danger" href="#" onclick="confirmDeleteThread(4); return false;">삭제</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- 더 보기 버튼 -->
        <div class="d-grid my-4">
          <button id="load-more-button" class="btn btn-outline-primary" onclick="loadMoreThreads()">
            더 보기
          </button>
        </div>
      </div>
    </div>
  </div>
{% endblock %}